---
layout: default
title: "BrowseConf: Confidence-Guided Test-Time Scaling for Web Agents"
---

# BrowseConf: Confidence-Guided Test-Time Scaling for Web Agents

- **ArXiv URL**: http://arxiv.org/abs/2510.23458v1

- **作者**: Yong Jiang; Pengjun Xie; Xixi Wu; Litu Ou; Rui Ye; Huifeng Yin; Jingren Zhou; Kuan Li; Zhongwang Zhang; Fei Huang; 等12人

- **发布机构**: Alibaba Group; Tongyi Lab

---

# TL;DR
本文提出了一种名为 BrowseConf 的测试时扩展（TTS）方法，该方法通过利用智能体自我报告的言语化置信度来动态分配计算资源，仅在置信度低于预设阈值时才触发额外的计算尝试，从而在实现与固定预算方法相当甚至更优性能的同时，显著降低了计算成本。

# 关键定义
*   **言语化置信度 (Verbalized Confidence)**：一种模型自我评估的方法，通过特定提示（Prompt）引导大语言模型为其生成的最终答案输出一个数值形式的置信度分数（如0-100分）。这个分数直接反映了模型对其答案正确性的主观判断。
*   **测试时扩展 (Test-Time Scaling, TTS)**：一类在推理（测试）阶段通过增加计算开销来提升模型性能的技术。常见的方法包括为同一问题生成多个候选答案（即 rollouts），然后通过投票等方式选出最终答案。
*   **BrowseConf**：本文提出的核心方法，一种基于置信度引导的动态测试时扩展策略。该方法首先让智能体生成一个答案及对应的言语化置信度分数，如果该分数低于预先校准的置信度阈值 $$τ$$，则启动新一轮的生成尝试，直至分数达标或达到最大尝试次数 $$N$$。
*   **置信度阈值 (Confidence Threshold, $$τ$$)**：一个关键参数，用于判断是否需要进行新一轮的尝试。本文通过在一个验证集上进行校准来确定 $$τ$$ 的值，其选择标准是确保置信度高于 $$τ$$ 的样本子集相比于整个验证集，在准确率上有至少 $$k%$$ 的相对提升。

# 相关工作
当前，尽管大语言模型（LLM）在网页浏览等智能体任务中表现强大，但它们仍易于产生幻觉和过分自信的错误。现有的置信度评估方法（如言语化分数、token概率等）大多针对单步问答任务，在需要外部交互和自适应推理的长程智能体场景下，置信度校准问题仍未得到充分探索。智能体在长任务中容易忘记先前信息或从早期错误中恢复，导致最终的置信度评估不可靠。

另一方面，测试时扩展（TTS）技术如自洽性（Self-Consistency）通常对所有问题都采用固定的、大量的计算资源（例如，生成10次答案），这种“一刀切”的方式存在巨大的计算浪费，因为许多问题可能在第一次尝试时就已经被智能体高置信度地正确解决了。

本文旨在解决上述两个问题：如何在长程智能体任务中可靠地利用置信度信号，并基于此设计一种更具计算效率的测试时扩展方法。

# 本文方法

本文的核心是提出了一种名为 **BrowseConf** 的测试时扩展（TTS）方法，它根据智能体的言语化置信度来动态分配计算预算。

### 算法核心
$$BrowseConf$$ 的基本流程如下：
1.  对于给定的问题 $$q$$，智能体进行第 $$i$$ 次尝试，生成答案 $$A_i$$ 和言语化置信度分数 $$C_i$$。
2.  判断 $$C_i$$ 是否大于或等于预先校准的置信度阈值 $$τ$$。
3.  如果 $$C_i >= τ$$，则认为当前答案可信，终止流程并返回 $$A_i$$。
4.  如果 $$C_i < τ$$，则认为当前答案不可信，启动新一轮尝试（$$i+1$$），直到 $$i$$ 达到预设的最大尝试次数 $$N$$。
5.  如果所有 $$N$$ 次尝试都未能达到置信度阈值，则选择所有尝试中置信度最高的那个答案作为最终输出。

### 创新点
本文方法与以往方法最本质的区别在于**动态且自适应的计算资源分配**。它摒弃了传统TTS方法中对所有问题都使用固定计算预算的低效模式，转而利用智能体自身的置信度判断来决定是否需要“再试一次”。其核心优点体现在：
*   **计算高效**：对于智能体首次尝试就很有把握的问题，该方法可以立即终止并返回答案，从而避免了不必要的重复计算，显著降低了平均每次查询所需的计算量。
*   **问题导向**：计算资源被优先分配给那些智能体感到“不确定”的难题上，实现了计算力的“好钢用在刀刃上”。

### 阈值校准
置信度阈值 $$τ$$ 的选择至关重要。本文提出在信息检索问答验证集（SailorFog-QA的子集）上进行校准。具体方法是寻找一个最小的阈值 $$τ*$$，使得在该验证集上，所有置信度不低于 $$τ*$$ 的样本的准确率，相比于整个验证集的平均准确率，至少有 $$k%$$ 的相对提升。其数学公式如下：


{% raw %}$$
\tau^{*}=\min\bigg\{\tau\in[0,100]\mid\frac{\text{Acc}(\{x\in D_{val}\mid C\geq\tau\})-\text{Acc}(D_{val})}{\text{Acc}(D_{val})}\geq\frac{k}{100}\bigg\}
$${% endraw %}



### 方法变体
为了探索如何在多次尝试之间传递有效信息，本文还提出了 $$BrowseConf$$ 的三种变体：
1.  **BrowseConf-Zero (从零开始)**：最简单的方式，每次新的尝试都完全从头开始，不保留之前尝试的任何信息。
2.  **BrowseConf-Summary (摘要引导)**：在一次低置信度尝试结束后，模型会生成一个摘要，总结关键实体、发现的矛盾和未完成的推理步骤。这个摘要将作为额外信息输入到下一次尝试中，以引导其探索。
3.  **BrowseConf-Neg (负向约束)**：将之前所有低置信度的错误答案提供给模型，并明确指示它在新的尝试中生成一个与这些都不同的答案，从而避免重复探索已知的错误路径。

# 实验结论

实验在 $$gpt-oss-120b$$ 和 $$DeepSeek-V3.1$$ 模型上，针对高难度的信息检索基准 $$BrowseComp$$ 及其$$中文版$$ 进行了评估。

### 关键发现
*   **言语化置信度与准确率强相关**：实验首先验证了方法的可行性基础。尽管模型普遍存在过度自信的问题，但其言语化置信度分数与任务的实际准确率表现出强烈的正相关关系。置信度分数高于95%时，准确率远高于平均水平；而低于70%时，准确率则接近于零。这证明言语化置信度是衡量智能体预测质量的一个可靠信号。

<img src="/images/2510.23458v1/gptoss_test.jpg" alt="gpt-oss-120b 和 DeepSeek-V3.1 的准确率与置信度关系图" style="width:85%; max-width:450px; margin:auto; display:block;">
<img src="/images/2510.23458v1/v31_test.jpg" alt="gpt-oss-120b 和 DeepSeek-V3.1 的准确率与置信度关系图" style="width:85%; max-width:450px; margin:auto; display:block;">

*   **BrowseConf 高效且强大**：如下表所示，所有 $$BrowseConf$$ 变体在性能上均能达到甚至超越需要固定10次尝试的强基线方法（如 $$Self-Consistency$$ 和 $$CISC$$），同时平均尝试次数显著减少（例如，$$gpt-oss-120b$$ 在 $$BrowseComp$$ 上仅需2.06-3.87次）。

*   **变体对比**：
    *   $$BrowseConf-Neg$$ (负向约束) 在多数情况下取得了最高的准确率，表明约束模型避开已知错误答案是一种非常有效的策略。
    *   $$BrowseConf-Summary$$ (摘要引导) 在所有模型和基准上都表现出最高的计算效率（平均尝试次数最少）。
    *   $$BrowseConf-Zero$$ (从零开始) 在性能和效率之间提供了一个稳健的平衡点。

<br>


| 方法 | **BrowseComp (Acc% / Avg. Atts)** | **BrowseComp-zh (Acc% / Avg. Atts)** |
| :--- | :---: | :---: |
| ***gpt-oss-120b*** | | |
| Pass@1 | 33.8 / 1 | 38.0 / 1 |
| Pass@10 | 70.3 / 10 | 74.7 / 10 |
| Self-Consistency (10) | 47.5 / 10 | 50.5 / 10 |
| CISC (10) | 52.2 / 10 | 53.3 / 10 |
| BrowseConf-Zero | 52.1 / 3.76 | 51.6 / 2.32 |
| BrowseConf-Summary | 48.7 / **2.06** | 49.2 / **2.09** |
| BrowseConf-Neg | **52.8** / 3.87 | **53.8** / 2.43 |
| ***DeepSeek-V3.1*** | | |
| Pass@1 | 29.5 / 1 | 51.1 / 1 |
| Pass@10 | 68.6 / 10 | 82.0 / 10 |
| Self-Consistency (10) | 36.7 / 10 | 61.3 / 10 |
| CISC (10) | 38.7 / 10 | 61.3 / 10 |
| BrowseConf-Zero | **41.3** / 5.67 | 59.2 / 3.63 |
| BrowseConf-Summary | 40.1 / 5.23 | 53.4 / 3.74 |
| BrowseConf-Neg | **41.3** / 5.72 | 54.3 / 3.68 |

<br>

### 消融研究
*   **置信度阈值的影响**：更严格的阈值（更高的$$k%$$）能带来更高的最终准确率，但代价是需要更多的平均尝试次数。实验表明，当 $$k$$ 从10%增加到20%时，性能提升幅度变小，说明设置过高的阈值可能导致不必要的计算开销。

<img src="/images/2510.23458v1/bc_en_threshold.jpg" alt="不同k%值对gpt-oss-120b性能的影响" style="width:85%; max-width:600px; margin:auto; display:block;">

*   **信息传递的效果**：$$BrowseConf-Summary$$ 和 $$BrowseConf-Neg$$ 这两种在多次尝试间传递信息的方法，在后续尝试中所需的交互次数（即“思考-动作-观察”循环）显著减少。这证明了从过往失败中学习能够让智能体更高效地解决问题。

<img src="/images/2510.23458v1/tool_call_change.jpg" alt="连续尝试间交互次数的变化" style="width:85%; max-width:600px; margin:auto; display:block;">

### 总结
本文成功证明了**BrowseConf**方法在复杂信息检索智能体任务中的有效性和高效性。通过利用言语化置信度动态分配计算资源，它能够在显著降低计算成本的同时，取得与固定高预算方法相媲美甚至更优的性能。这为未来构建更经济、更智能的AI智能体系统提供了新的思路。